#std_require functional set
#require convert_container

template<typename ContainerOut, typename ContainerA, typename ContainerB, typename Operation>
ContainerOut cartesian_sum(const ContainerA &a, const ContainerB &b, Operation op);

#main

template<typename ContainerOut, typename ContainerA, typename ContainerB, typename Operation>
ContainerOut cartesian_sum(const ContainerA &a, const ContainerB &b, Operation op) {
  set<typename ContainerA::value_type> res;

  for(auto u : a) {
    for(auto v : b) {
      res.insert(op(a, b));
    }
  }
  
  return convert_container<ContainerOut>(res);
}
